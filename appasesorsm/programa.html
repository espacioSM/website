<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aura SM | Diagnóstico espacioSM</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --cat: #FFCD00; --cat-dark: #E6B800; }
        body { font-family: 'Inter', sans-serif; background-color: #FFFFFF; }
        .bg-cat { background-color: var(--cat); }
        .text-cat { color: var(--cat); }
        .border-cat { border-color: var(--cat); }
        .nav-scrolled { background-color: rgba(255, 255, 255, 0.98); box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .btn-option { border: 2px solid #f3f4f6; transition: all 0.2s; text-align: left; padding: 1rem; border-radius: 4px; font-weight: 600; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.05em; }
        .btn-option:hover { border-color: var(--cat); background-color: #fffbeb; }
        .fade-in { animation: fadeIn 0.3s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="antialiased text-black">

    <nav id="navbar" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 py-4 nav-scrolled">
        <div class="max-w-7xl mx-auto px-6 md:px-12">
            <div class="flex justify-between items-center">
                <a href="https://www.espaciosm.art" class="flex items-center">
                    <span class="text-xl font-bold italic">espacio<span class="text-cat not-italic">SM</span></span>
                </a>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#" class="text-[10px] font-black uppercase tracking-[0.2em] hover:text-cat">Proyectos</a>
                    <a href="#" class="text-[10px] font-black uppercase tracking-[0.2em] hover:text-cat">Contacto</a>
                    <div class="bg-cat px-3 py-1 text-[10px] font-black uppercase tracking-widest">Diagnóstico Aura</div>
                </div>
            </div>
        </div>
    </nav>

    <section class="pt-32 pb-20 px-6 min-h-screen">
        <div class="max-w-xl mx-auto">
            
            <div class="flex justify-between mb-10 relative px-2">
                <div class="absolute top-5 left-0 w-full h-[1px] bg-gray-100 z-0"></div>
                <div id="progress-bar" class="absolute top-5 left-0 h-[2px] bg-cat z-0 transition-all duration-500" style="width: 0%;"></div>
                
                <div class="relative z-10"><div id="dot-1" class="w-10 h-10 rounded-full bg-black text-cat flex items-center justify-center border-2 border-cat shadow-xl"><i class="fas fa-id-card text-xs"></i></div></div>
                <div class="relative z-10"><div id="dot-2" class="w-10 h-10 rounded-full bg-white border-2 border-gray-100 text-gray-300 flex items-center justify-center transition-all"><i class="fas fa-users text-xs"></i></div></div>
                <div class="relative z-10"><div id="dot-3" class="w-10 h-10 rounded-full bg-white border-2 border-gray-100 text-gray-300 flex items-center justify-center transition-all"><i class="fas fa-car text-xs"></i></div></div>
                <div class="relative z-10"><div id="dot-4" class="w-10 h-10 rounded-full bg-white border-2 border-gray-100 text-gray-300 flex items-center justify-center transition-all"><i class="fas fa-palette text-xs"></i></div></div>
            </div>

            <div class="bg-white border-[3px] border-black shadow-[10px_10px_0px_0px_rgba(255,205,0,1)] rounded-sm overflow-hidden">
                
                <div class="bg-black p-4 flex justify-between items-center text-white">
                    <div class="flex items-center gap-2">
                        <div class="w-2 h-2 bg-cat rounded-full animate-pulse"></div>
                        <span class="text-[9px] font-black uppercase tracking-[0.3em]">Aura SM</span>
                    </div>
                    <button onclick="alert('Aura SM te ayuda a pre-configurar tu proyecto para la cita técnica con el Arq. San Miguel.')" class="text-cat text-[9px] font-bold border border-cat px-2 py-1 uppercase">Ayuda</button>
                </div>

                <div id="quiz-container" class="p-8 min-h-[400px] flex flex-col justify-center">
                    </div>

                <div id="aura-tip-container" class="hidden bg-gray-50 border-t-2 border-black p-6 fade-in">
                    <div class="flex gap-3">
                        <span class="text-2xl text-cat font-black italic">“</span>
                        <p id="aura-tip-text" class="text-[11px] font-bold italic text-gray-700 leading-relaxed uppercase tracking-tight"></p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        const questions = [
            // FASE 1: IDENTIDAD
            { q: "¿Cuál es tu nombre completo?", field: "nombre", type: "text", tip: "Un gusto saludarte. El Arq. San Miguel revisará personalmente este reporte." },
            { q: "¿Tu correo electrónico?", field: "email", type: "email", tip: "Te enviaremos el resumen de nuestro análisis por este medio." },
            { q: "¿Cuál es tu ocupación?", field: "ocupacion", type: "text", tip: "Entender tu ritmo de vida nos ayuda a diseñar espacios funcionales." },
            { q: "¿Ubicación del terreno a construir?", field: "ubicacion", type: "text", tip: "La ubicación define la normativa y el comportamiento estructural del suelo." },
            { 
                q: "¿Cuentas con licencia de construcción?", 
                field: "licencia", 
                type: "options", 
                options: ["Si, tengo licencia", "No, pretendo sacar una", "Tratar legalidad con Arq. San Miguel"],
                tip: "La licencia es la única forma de garantizar legalmente tu patrimonio. El Arq. San Miguel te asesorará en la ruta técnica."
            },
            // FASE 2: PROGRAMA
            { 
                q: "Seleccione tipo de trabajo a realizar:", 
                field: "tipoTrabajo", 
                type: "options", 
                options: ["Obra Nueva", "Remodelación", "Ampliación"],
                tip: "En ampliaciones, Aura SM recomienda un análisis de carga previo para no comprometer lo existente."
            },
            { q: "Número de usuarios para la Casa Habitación:", field: "numUsuarios", type: "number", tip: "El espacio debe crecer con la familia. Consideramos proyecciones a 5 y 10 años." },
            { 
                q: "Seleccione tipo de usuario:", 
                field: "tipoUsuario", 
                type: "options", 
                options: ["Infante/Adolescente", "Adulto Joven", "Adulto Mayor", "Varios"],
                tip: "Diseñamos ergonomía específica para cada etapa de la vida."
            },
            { 
                q: "¿Recibe muchas visitas?", 
                field: "visitas", 
                type: "options", 
                options: ["Si, constantemente", "No, es privado"],
                tip: "Si recibes visitas, priorizaremos áreas sociales abiertas y accesos independientes."
            },
            // FASE 3: EQUIPAMIENTO
            { q: "¿Cuántos vehículos posee?", field: "numAutos", type: "number", tip: "El garaje debe ser amplio para maniobras seguras y posible transición a vehículos eléctricos." },
            { 
                q: "¿Tiene o planea tener mascotas?", 
                field: "mascotas", 
                type: "options", 
                options: ["Si", "No"],
                tip: "Las mascotas son parte de la familia; integramos áreas de aseo y descanso específicas."
            },
            { 
                q: "¿Deseas integrar un piano o instrumento grande?", 
                field: "piano", 
                type: "options", 
                options: ["Si", "No"],
                tip: "La acústica y el peso de un piano requieren refuerzos estructurales y aislamiento sonoro."
            },
            // FASE 4: ESTÉTICA Y CIERRE
            { 
                q: "¿Qué tonalidades prefieres?", 
                field: "tonos", 
                type: "options", 
                options: ["Neutras", "Oscuras", "Tierra", "Tendencia"],
                tip: "La psicología del color en la arquitectura influye directamente en tu descanso y productividad."
            },
            { 
                q: "¿Qué materiales en piso te gustan?", 
                field: "pisos", 
                type: "options", 
                options: ["Loseta", "Madera", "Mármol", "Concreto Aparente"],
                tip: "El material del piso define la inercia térmica de tu casa. Elegiremos lo mejor para tu clima."
            },
            { 
                q: "¿Qué estilo arquitectónico te gusta más?", 
                field: "estilo", 
                type: "options", 
                options: ["Clásico", "Moderno", "Contemporáneo", "Minimalista", "Mexicano"],
                tip: "Tu estilo es la firma del proyecto. El Arq. San Miguel lo traducirá en formas y volúmenes."
            },
            { 
                q: "¿Implementar ecotecnología?", 
                field: "ecotech", 
                type: "options", 
                options: ["Si, es prioridad", "No por ahora"],
                tip: "Paneles solares y captación pluvial pueden reducir tus costos operativos hasta en un 60%."
            }
        ];

        let currentIdx = 0;
        let data = {};

        function renderQuestion() {
            const container = document.getElementById('quiz-container');
            const question = questions[currentIdx];
            const tipBox = document.getElementById('aura-tip-container');
            const tipText = document.getElementById('aura-tip-text');

            // Actualizar Progreso
            const progress = (currentIdx / (questions.length - 1)) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
            updateDots();

            // Inyectar Pregunta
            let html = `<div class="fade-in space-y-6">
                <p class="text-[10px] font-black text-gray-400 uppercase tracking-[0.3em]">Pregunta ${currentIdx + 1} de ${questions.length}</p>
                <h2 class="text-lg font-black uppercase italic leading-tight">${question.q}</h2>`;

            if (question.type === "options") {
                html += `<div class="grid grid-cols-1 gap-3">`;
                question.options.forEach(opt => {
                    html += `<button onclick="saveOption('${question.field}', '${opt}')" class="btn-option">${opt}</button>`;
                });
                html += `</div>`;
            } else {
                html += `<input type="${question.type}" id="input-val" class="w-full border-b-4 border-black py-4 text-xl font-bold focus:outline-none focus:border-cat placeholder-gray-200" placeholder="Escribe aquí...">
                <button onclick="saveInput('${question.field}')" class="w-full bg-black text-white py-5 font-black uppercase tracking-widest text-xs mt-6 hover:bg-cat hover:text-black transition-all">Siguiente</button>`;
            }

            html += `</div>`;
            container.innerHTML = html;

            // Aura Tip
            tipBox.classList.remove('hidden');
            tipText.innerText = question.tip;
        }

        function saveOption(field, val) {
            data[field] = val;
            next();
        }

        function saveInput(field) {
            const val = document.getElementById('input-val').value;
            if(!val) return alert("Por favor, llena este campo.");
            data[field] = val;
            next();
        }

        function next() {
            if (currentIdx < questions.length - 1) {
                currentIdx++;
                renderQuestion();
            } else {
                finish();
            }
        }

        function updateDots() {
            const phase = Math.floor((currentIdx / questions.length) * 4) + 1;
            for(let i=1; i<=4; i++) {
                const dot = document.getElementById(`dot-${i}`);
                if(i <= phase) {
                    dot.classList.add('bg-black', 'text-cat', 'border-cat');
                    dot.classList.remove('text-gray-300', 'border-gray-100');
                }
            }
        }

        function finish() {
            const container = document.getElementById('quiz-container');
            const waMsg = `Hola Arq. San Miguel, Aura SM me entregó mi diagnóstico.\n\nNombre: ${data.nombre}\nUbicación: ${data.ubicacion}\nObra: ${data.tipoTrabajo}\nLicencia: ${data.licencia}\nEstilo: ${data.estilo}`;
            
            container.innerHTML = `
                <div class="text-center space-y-8 fade-in">
                    <h2 class="text-3xl font-black italic uppercase italic tracking-tighter">Análisis <span class="text-cat">espacioSM</span> listo</h2>
                    <p class="text-sm font-bold text-gray-600">Se ha generado tu reporte de necesidades. El Arq. San Miguel te espera para la validación técnica.</p>
                    <a href="https://wa.me/525613870288?text=${encodeURIComponent(waMsg)}" target="_blank" class="block w-full bg-cat text-black py-6 font-black uppercase tracking-widest text-xs shadow-xl hover:scale-[1.02] transition-transform">Enviar al Arq. San Miguel y Agendar</a>
                </div>
            `;
            document.getElementById('aura-tip-text').innerText = "Diagnóstico completado. Tu información ha sido procesada bajo los estándares de espacioSM.";
        }

        // INIT
        renderQuestion();
    </script>
</body>
</html>
